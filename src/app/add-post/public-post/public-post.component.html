<div id="PublicPost" class="Flex">

    <div id="ImgWrapper" class="Flex">
        <img id="UserImage" [src]="imageURL">
    </div>

    <div id="Panel" class="Flex">

        <form action="" [formGroup]="titleForm" (ngSubmit)="savePost()" class="Flex">
            <label id="TitleLabel">Title of your post:</label>
        
            <input type="text" id="Title"  class="Flex" formControlName="title">
        

             <div id="ButtonsWrapper">
                <button id="ButtonPublic" type="button" class="ButtonShare" [ngClass]="{'ButtonSelected':isPostPublic}" (click)="selectPublicMode()" #ButtonPublic>Share publicly</button>

                <button id="ButtonPrivate" type="button" class="ButtonShare" [ngClass]="{'ButtonSelected':!isPostPublic}" (click)="selectPrivateMode()" #ButtonPrivate>Share privately</button>
            </div>

            <mat-form-field class="newCollectionName" [ngClass]="noCollectionFlag? 'disp-block' : 'disp-none'">
                <mat-label>Name collection for this post</mat-label>
                <input matInput  formControlName="newCollectionName">
            </mat-form-field>

            <mat-selection-list class="calloctionList" [formControl]="collectionControl" name="collections"  [multiple]="false" [ngClass]="collectionFoundFlag? 'disp-block' : 'disp-none'">
                @for (coll of usersCollection; track coll) {
                  <mat-list-option [value]="coll.id">{{coll.name}}</mat-list-option>
                }
            </mat-selection-list>

            <button id="Save"  type="submit" [disabled]="!titleForm.valid || postSubmitted"  >Save</button> 

            <div id="LinkWrapper" class="Flex">
            <span id="Link" >{{linkToPost}}</span>

            <button id="Copy" type="button" (click)="copyLink()">
                <img src="icons/copy-icon-white.svg">
            </button>
            </div>

        </form>
    </div>

</div>
